<source>
    type forward
</source>

<match app.**>
    type azure-storage-append-blob

    azure_storage_account    citesthanarain
    azure_storage_access_key SjJChp2NWifDzcAlqfOekk3qv9CYcBkieUlanEHd/HBQwT58AvETQzqqYjQ7JClULfDAxSa9i7y1ZU3omqZPGw==
    azure_container          applognew
    auto_create_container    true
    azure_blob_name_format   %{time_slice}_%{index}.log
    time_slice_format        %Y%m%d-%H
    # if you want to use %{tag} or %Y/%m/%d/ like syntax in path / azure_blob_name_format,
    # need to specify tag for %{tag} and time for %Y/%m/%d in <buffer> argument.
    <buffer tag,time>
        @type file
        path /var/log/fluent/azurestorageappendblob
        timekey 120 # 2 minutes
        timekey_wait 60
        timekey_use_utc true # use utc
    </buffer>
</match>
